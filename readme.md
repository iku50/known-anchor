# 知锚

卡片式学习应用

后端使用 go

这里需要考虑先行搭建前端单机应用后，再完善如云端同步，签到打卡，OLAP分析等等功能。

这里，考虑使用gin作为HTTP框架为后端框架。

后端接口这里，需要实现

登陆注册接口（mysql存储，redis缓存）已实现

卡组增删查改（这里放在社区之中）（mysql）

社区（mysql做基本查询,nsq做消息推送,elasticsearch做搜索引擎和OLAP数据分析）

卡组学习状态云端同步（mongodb）

签到（消息队列实现用nsq）

* **用户模块:**
  * 注册（Register）：处理用户的注册请求，将用户信息保存到MySQL数据库中。
  * 登录（Login）：处理用户的登录请求，验证用户身份，生成并返回访问令牌。
  * 用户信息管理（Profile）：包括获取用户信息、修改密码等功能。
* **卡组模块:**
  * 创建卡组（Create Deck）：处理用户创建新卡组的请求，将卡组信息保存到MySQL数据库。
  * 删除卡组（Delete Deck）：处理用户删除卡组的请求，同时删除相关的卡片和学习状态。
  * 查询卡组（Get Deck）：根据用户请求查询卡组信息，支持按标签、类别等条件查询。
  * 更新卡组（Update Deck）：处理用户更新卡组信息的请求。
* **社区模块:**
  * 发表评论（Post Comment）：处理用户在社区中发表评论的请求，将评论保存到MySQL数据库。
  * 点赞/取消点赞（Like/Unlike）：处理用户对评论或帖子点赞或取消点赞的请求，更新相关计数。
  * 消息推送（Push Notification）：使用NSQ实现消息推送，处理用户之间的实时通知。
* **学习模块:**
  * 学习任务调度（Study Scheduler）：根据用户设定的学习目标，每天推送新卡片，并处理学习状态同步。
  * 学习记录（Study History）：记录用户的学习历史，包括卡片熟练度、复习次数等信息。
  * 云端同步（Cloud Sync）：处理卡组学习状态的云端同步，使用MongoDB存储学习状态。
    * 云端同步流程：
      1. 创建卡组：用户创建卡片信息并将其加入 `decks` 集合中，为用户添加响应的卡组id
      2. 学习状态同步：用户学习卡片时，创建或更新响应的卡片学习记录
      3. 学习状态获取：根据用户id和卡组id，查询cards
      4. 同步算法实现：将本地学习状态同步到云端，并从云端获取新的学习状态
* **签到模块:**
  * 签到处理（Check-in）：处理用户签到请求，记录签到信息，可能涉及积分、通知等操作。
* **搜索模块:**
  * 搜索引擎（Search Engine）：使用Elasticsearch实现全文搜索功能，支持用户在卡组和社区中进行快速搜索。
